<!doctype html>
<html>
	<head>
		<title>InstaCrypt</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta charset="UTF-8">
    		<link rel="stylesheet" href="static/css/base.css"/>
		<link href="https://fonts.googleapis.com/css2?family=Titillium+Web&display=swap" rel="stylesheet">
		<link href='https://fonts.googleapis.com/css?family=Alata' rel='stylesheet'>
	</head>
     
	<script src="static/js/index.js"></script>

	<body style="background-color: #303030;" ondrop="disableDragLeave(event)">
	  <table class="wrapper">
	    <tr>
	      <td class="top-level">
		<br>
		<center><a href="javascript:index.send('catchall', 'handle', 'openic')"><img src="static/img/logo.png"></a></center>
		<br>
		<center><font face="Titillium Web, sans-serif;" color="#cccccc" size=2>based on an <a href="javascript:index.send('catchall', 'handle', 'openosi')">OSI</a> application by <a href="javascript:index.send('catchall', 'handle', 'open3df')">3DF</a></font></center>
		<center><font face="Titillium Web, sans-serif;" color="#cccccc" size=2><span id="version"></span></font></center>		
		<br>
		<div class="authorize"><button class="authorize" style="border: 1px solid #aac734; background-color: #4d4d4d; color: #acc734; border-radius: 10px;" onclick="authInput()">Authorize</button></div>
		<br>
		<div id="auth_input" class="auth-input ai-table">
			<form class="ai-table">
				<table class="ai-table">
				  <tr class="ai-table">
				    <td class="ai-table">
					<input id="secret" class="access-key" type="text" placeholder="Paste your App Access Secret here...">
				    </td>
				    <td>
				    	<button class="ai-save" type="button" style="border: 1px solid #aac734; background-color: #4d4d4d; color: #acc734;" onclick="index.send('auth_save', 'authorize', document.getElementById('secret').value)">Save</button>
				    </td>
				  </tr>
				</table>
			</form>
		</div>
		<script>
			var x = document.getElementById("auth_input");
			x.style.display = "none";
		</script>
		<div id="auth_msg" class="auth-msg"></div>
		<script>
			var y = document.getElementById("auth_msg");
			y.style.display = "none";
		</script>
		<div id="auth_status" class="auth-status">
			<span id="status_title" class="status-title">Status: </span><span id="status" class="status">Not Authorized</span>
		</div>
		<script>
			index.init();
		</script>
		<br>
		<div id="loader" class="loader"></div>
	      </td>
	      <td class="top-level">  
		<div class="general">
			<select id="direction" onchange="setd(this.value)">
				<option value="encrypt" selected>Encrypt</option>
				<option value="decrypt">Decrypt</option>
			</select>
			<br />
			<br />
			<button id="file" class="file" onclick='javascript:fileDialog("file")' ondrop='drop(event, "file")' ondragover='drag(event, "file")' ondragleave='leave(event, "file")'><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg><br />FILE</button>
			<br />
			<br />
			<button id="key" class="file" onclick='javascript:fileDialog("key")' ondrop='drop(event, "key")' ondragover='drag(event, "key")' ondragleave='leave(event, "key")'><svg xmlns='http://www.w3.org/2000/svg' width='20' height='17' wBox='0 0 20 17'><path d="M15.49,6.33C15.36,3.69,14.38,0,10,0S4.64,3.69,4.51,6.33C3.49,6.55,2.73,7.47,2.73,8.57v7.66c0,0.42,0.34,0.77,0.77,0.77h13.02c0.42,0,0.77-0.34,0.77-0.77V8.57C17.27,7.47,16.51,6.55,15.49,6.33z M10,1.84c1.49,0,3.43,0.48,3.65,4.44H6.35C6.57,2.32,8.51,1.84,10,1.84z M11.07,13.9H8.93l0.73-2.28c-0.46-0.15-0.8-0.58-0.8-1.09c0-0.63,0.51-1.15,1.15-1.15c0.63,0,1.15,0.51,1.15,1.15c0,0.51-0.34,0.94-0.8,1.09L11.07,13.9z"/></svg><br />LOCK</button>
			<br />
			<select id="contacts" class="contacts" onchange='setContact(this)' >
				<option value="none" onselect=refreshKeyButton() selected>Select a Contact...</option>
			</select>
			<br />
			<button id="genkey" class="presets" onclick="preKeyGen()"><p class="icon"><svg xmlns='http://www.w3.org/2000/svg' width='20' height='17' wBox='0 0 20 17'><g><path d='M17.96,13.88L11.98,7.9l0,0c0,0,0,0,0,0L9.54,5.46c-0.35-0.35-0.8-0.54-1.29-0.54c-0.49,0-0.95,0.19-1.29,0.54C6.61,5.8,6.42,6.26,6.42,6.75c0,0.49,0.19,0.95,0.54,1.29l8.43,8.43c0.35,0.35,0.8,0.54,1.29,0.54c0.49,0,0.95-0.19,1.29-0.54s0.54-0.8,0.54-1.29C18.5,14.68,18.31,14.23,17.96,13.88z M9.4,7.9C9.26,8.03,9.16,8.19,9.07,8.36L7.85,7.14c-0.22-0.22-0.22-0.57,0-0.79c0.22-0.22,0.57-0.22,0.79,0l1.22,1.22C9.69,7.66,9.53,7.76,9.4,7.9z'/><path d='M8.73,2.52c0.23,0,0.45,0.1,0.61,0.29C9.52,3,9.62,3.27,9.62,3.55c0,0.22,0.18,0.4,0.4,0.4s0.4-0.18,0.4-0.4c0-0.28,0.1-0.55,0.27-0.75c0.17-0.19,0.38-0.29,0.61-0.29c0.22,0,0.4-0.18,0.4-0.4c0-0.22-0.18-0.4-0.4-0.4c-0.23,0-0.45-0.1-0.61-0.29c-0.18-0.2-0.27-0.46-0.27-0.75c0-0.22-0.18-0.4-0.4-0.4s-0.4,0.18-0.4,0.4c0,0.28-0.1,0.55-0.27,0.75C9.17,1.62,8.96,1.73,8.73,1.73c-0.22,0-0.4,0.18-0.4,0.4C8.33,2.34,8.51,2.52,8.73,2.52z M9.93,1.97c0.03-0.03,0.05-0.07,0.08-0.11c0.03,0.04,0.05,0.08,0.08,0.11c0.05,0.06,0.1,0.11,0.16,0.15c-0.05,0.05-0.11,0.1-0.16,0.15c-0.03,0.03-0.05,0.07-0.08,0.11C9.98,2.35,9.96,2.31,9.93,2.28c-0.05-0.06-0.1-0.11-0.16-0.15C9.83,2.07,9.88,2.02,9.93,1.97z'/><path d='M5.79,1.91c-0.38,0-0.74-0.15-1.01-0.42C4.51,1.22,4.36,0.86,4.36,0.48C4.36,0.21,4.15,0,3.88,0S3.41,0.21,3.41,0.48c0,0.38-0.15,0.74-0.42,1.01C2.72,1.76,2.36,1.91,1.98,1.91c-0.26,0-0.48,0.21-0.48,0.48s0.21,0.48,0.48,0.48c0.38,0,0.74,0.15,1.01,0.42c0.27,0.27,0.42,0.63,0.42,1.01c0,0.26,0.21,0.48,0.48,0.48s0.48-0.21,0.48-0.48c0-0.38,0.15-0.74,0.42-1.01c0.27-0.27,0.63-0.42,1.01-0.42c0.26,0,0.48-0.21,0.48-0.48S6.05,1.91,5.79,1.91z M4.1,2.6C4.02,2.69,3.95,2.77,3.88,2.86C3.82,2.77,3.74,2.69,3.66,2.6C3.58,2.52,3.49,2.45,3.4,2.38c0.09-0.07,0.18-0.14,0.26-0.22C3.74,2.08,3.82,1.99,3.88,1.9C3.95,1.99,4.02,2.08,4.1,2.16c0.08,0.08,0.17,0.15,0.26,0.22C4.27,2.45,4.19,2.52,4.1,2.6z'/><path d='M5.32,6.22c-0.2,0-0.38-0.09-0.52-0.24C4.65,5.81,4.57,5.59,4.57,5.35c0-0.18-0.14-0.32-0.32-0.32c-0.18,0-0.32,0.14-0.32,0.32c0,0.24-0.08,0.46-0.23,0.63C3.56,6.13,3.37,6.22,3.18,6.22C3,6.22,2.86,6.36,2.86,6.54c0,0.18,0.14,0.32,0.32,0.32c0.2,0,0.38,0.09,0.52,0.24c0.15,0.17,0.23,0.39,0.23,0.63c0,0.18,0.14,0.32,0.32,0.32c0.18,0,0.32-0.14,0.32-0.32c0-0.24,0.08-0.46,0.23-0.63c0.14-0.16,0.33-0.24,0.52-0.24c0.18,0,0.32-0.14,0.32-0.32C5.64,6.36,5.5,6.22,5.32,6.22z M4.33,6.67C4.3,6.71,4.28,6.74,4.25,6.78C4.22,6.74,4.2,6.71,4.17,6.67c-0.05-0.05-0.1-0.09-0.15-0.14c0.05-0.04,0.1-0.09,0.15-0.14C4.2,6.37,4.22,6.33,4.25,6.3C4.28,6.33,4.3,6.37,4.33,6.4c0.05,0.05,0.1,0.09,0.15,0.14C4.43,6.58,4.37,6.62,4.33,6.67z'/></g></svg></p>Generate<br />My Lock</button>
			<button id="3dfkey" class="presets" onclick='set3DF("encrypt", "Lock")'>
			<p class='icon' ><svg xmlns='http://www.w3.org/2000/svg' width='20' height='17' wBox='0 0 20 17'><path d='M15.49,6.33C15.36,3.69,14.38,0,10,0S4.64,3.69,4.51,6.33C3.49,6.55,2.73,7.47,2.73,8.57v7.66c0,0.42,0.34,0.77,0.77,0.77h13.02c0.42,0,0.77-0.34,0.77-0.77V8.57C17.27,7.47,16.51,6.55,15.49,6.33z M10,1.84c1.49,0,3.43,0.48,3.65,4.44H6.35C6.57,2.32,8.51,1.84,10,1.84z M11.07,13.9H8.93l0.73-2.28c-0.46-0.15-0.8-0.58-0.8-1.09c0-0.63,0.51-1.15,1.15-1.15c0.63,0,1.15,0.51,1.15,1.15c0,0.51-0.34,0.94-0.8,1.09L11.07,13.9z'/></svg></p>Use<br />My Lock
			</button>
			<button id="localkey" class="presets" onclick='refreshCList()'>
			<p class='icon' ><svg xmlns='http://www.w3.org/2000/svg' width='20' height='17' wBox='0 0 20 17'><g><path d='M2.56,8.5l4.53-3.84L5.38,4.05c1.24-1.27,2.96-2,4.79-2c2.91,0,5.45,1.81,6.32,4.51c0.14,0.42,0.52,0.69,0.94,0.69c0.1,0,0.2-0.02,0.31-0.05c0.52-0.17,0.81-0.73,0.64-1.25c-1.14-3.52-4.44-5.88-8.21-5.88C7.5,0.07,5,1.28,3.38,3.33L1.5,2.66L2.56,8.5z'/><path d='M18.5,14.34L17.44,8.5l-4.53,3.84l1.71,0.61c-1.24,1.27-2.96,2-4.79,2c-2.91,0-5.45-1.81-6.32-4.51C3.34,9.92,2.78,9.63,2.25,9.8c-0.52,0.17-0.81,0.73-0.64,1.25c1.14,3.52,4.44,5.88,8.21,5.88c2.68,0,5.17-1.21,6.8-3.26L18.5,14.34z'/></g></svg></p>Refresh<br />Contacts
			</button>
			<br>
			<br>
			<button class="submit" value="submit" onclick="preSubmit()">Submit</button>
		</div>
	      </td>
	    </tr>
	  </table>
	</body>
</html>

